# Tableau Tutorial
Tableau是一款商业智能工具，它提供了可视化分析的功能，可以将数据转换成图表和图形，从而更好地理解数据。它可以连接到各种数据源，包括文本文件、关系数据库、Hadoop、云数据库等，可以对数据进行快速的分析和可视化，可以将数据转换成图表和图形，从而更好地理解数据。它可以连接到各种数据源，包括文本文件、关系数据库、Hadoop、云数据库等，可以对数据进行快速的分析和可视化。

本教程为Tableau基础入门教程，主要介绍了Tableau的安装、界面、数据源、数据分析、图表、工作簿、仪表板、故事等内容。

# 1. 基本结构
## 1.1 Tableau Desktop
Tableau Desktop是Tableau的核心产品，它是一款商业智能工具，可以将数据转换成图表和图形，从而更好地理解数据。它可以连接到各种数据源，包括文本文件、关系数据库、Hadoop、云数据库等，可以对数据进行快速的分析和可视化。


### 工作簿（Workbook）
- **定义**：Tableau中的工作簿类似于Excel中的工作簿，它是存储一系列相关数据视图、仪表盘和故事的文件。
- **用途**：您可以在一个工作簿中创建多个工作表（单个视图），然后将这些工作表组合到仪表盘或故事中。

### 工作表（Worksheet）
- **定义**：工作表是Tableau中创建视图的地方。每个工作表包含一个独立的视图，您可以在其中分析数据。
- **用途**：在工作表中，您可以拖放字段来创建图表，如条形图、折线图、地图等。

### 仪表盘（Dashboard）
- **定义**：仪表盘是一个交互式工作区，您可以在其中结合多个工作表（视图）来展示数据。
- **用途**：通过仪表盘，您可以在一个屏幕上查看多个视图，这些视图可以交互操作，比如选定一个视图中的数据点，其他视图也会相应更新
### 故事（Story）
- **定义**：在Tableau中，故事是一系列通过视图、仪表盘或文字组成的叙述，用于讲述数据背后的故事。
- **用途**：故事通常用于展示数据分析的步骤或展现数据随时间的变化。您可以将一系列工作表或仪表盘按照特定顺序排列，添加描述性文本，来讲述一个完整的数据故事。

### Tableau的基本使用步骤
1. **连接数据源**：启动Tableau后，首先需要连接到一个数据源，比如Excel文件、数据库或Web数据。

2. **创建视图（工作表）**：连接数据后，您会进入工作表界面。在这里，您可以通过拖放字段到行、列、颜色、大小等区域来创建不同类型的图表。

3. **构建仪表盘**：一旦在工作表中创建了一些视图，就可以在仪表盘中将它们组合起来。这可以通过拖放工作表到仪表盘区域来完成。

4. **创建故事**：创建故事时，您可以将工作表或仪表盘添加到故事中，并添加文本描述来引导观众理解您的数据故事。

5. **分享和发布**：完成您的工作簿后，您可以将其保存、分享或发布到Tableau Server或Tableau Public，以便他人查看和交互。

6. **导出图像**：您可以将工作表或仪表盘导出为图像，然后将其插入到Word文档或PowerPoint演示文稿中。其中可以选择添加`说明`, 用于描述图像的内容或进行分析。


## 1.2 Appearance
Tableau Desktop的界面如下图所示：

![img.png](images/img.png)

- 连接: 用于连接到数据源，可以连接到各种数据源，包括文本文件、关系数据库、Hadoop、云数据库等。
- 工作表: 用于创建图表和图形，可以将数据转换成图表和图形，从而更好地理解数据。
- 仪表板: 用于创建仪表板，可以将多个工作表组合到一个仪表板中，从而更好地展示数据。
- 故事: 用于创建故事，可以将多个仪表板组合到一个故事中，从而更好地讲述数据背后的故事。

## 1.3 Data Preparation
使用Tableau可以进行简单的数据预处理，包括数据清洗、数据整合、数据转换等。在Tableau中，数据预处理主要通过计算字段、参数、集合、分组、合并等功能来实现。

### 计算字段（Calculated Field）
- **定义**：计算字段是一种新的字段，它是通过对现有字段进行计算而创建的。计算字段可以用于创建新的维度或度量。
- **用途**：计算字段可以用于创建新的维度或度量，从而实现数据预处理的功能。
- **创建**：在Tableau中，可以通过单击`分析`->`创建计算字段`来创建计算字段。在弹出的对话框中，可以输入计算字段的名称和计算公式，然后单击`确定`即可创建计算字段。

### 分组（Group）
- **定义**：分组是一组维度成员的集合，它可以用于存储一组维度成员，并且可以在工作簿中的多个视图中使用。
- **用途**：分组可以用于存储一组维度成员，并且可以在工作簿中的多个视图中使用，从而实现数据预处理的功能。
- **创建**：在Tableau中，可以通过单击`分析`->`创建分组`来创建分组。在弹出的对话框中，可以输入分组的名称、维度、成员等信息，然后单击`确定`即可创建分组。

### 合并（Join）
- **定义**：合并是将两个或多个数据源中的数据合并到一个数据源中的过程。
- **用途**：合并可以将两个或多个数据源中的数据合并到一个数据源中，从而实现数据预处理的功能。
- **创建**：在Tableau中，可以通过单击`数据`->`合并数据`来创建合并。在弹出的对话框中，可以选择要合并的数据源，然后单击`确定`即可创建合并。

### 拆分（Split）
- **定义**：拆分是将一个字段中的数据拆分成多个字段的过程。
- **用途**：拆分可以将一个字段中的数据拆分成多个字段，从而实现数据预处理的功能。
- **创建**：在Tableau中，可以通过单击`数据`->`拆分字段`来创建拆分。在弹出的对话框中，可以选择要拆分的字段，然后单击`确定`即可创建拆分。
- **自定义**：在Tableau中，可以通过单击`数据`->`自定义拆分`来创建自定义拆分。可以使用正则表达式来定义拆分规则，然后单击`确定`即可创建自定义拆分。

### 缺失值处理
可以对缺失值进行“排除”、“显示”、“替换”等操作。其中，“排除”是指将缺失值排除在外，不参与计算；“显示”是指将缺失值显示为“NULL”；“替换”是指将缺失值替换为其他值。


# 2. Basic Plot
## 2.1 Bar Chart
绘制条形图，首先需要确定横坐标和纵坐标的字段，然后将字段拖拽到对应的位置。注意：横坐标应当将相应数据拖动到
`Columns`，纵坐标应当将相应数据拖动到`Rows`。

![img2.png](images%2Fimg2.png)

上图使用`产地`作为横坐标，使用`计数`作为纵坐标，绘制了一个条形图。其中产地属于定类数据，计数属于定量数据（位于`度量名称`中）。

在`标记`中，可以修改条形图的颜色、大小、形状等属性。将不同字段拖到`颜色`、`大小`、`形状`中，可以根据不同的字段对条形图进行分类。或用于在条形图上方显示数据标签。

## 2.2 Histogram
绘制直方图，首先需要将列字段建立数据桶（Bins），然后用建立条形图的方式绘制直方图。

![img3.png](images%2Fimg3.png)

注意，Tableau中直方图横坐标为该Bin的左区间端点值。

## 2.3 Line Chart
折线图的绘制很简单，只需要将横坐标和纵坐标的字段拖动到对应的位置即可。
![img4.png](images%2Fimg4.png)

## 2.4 Pie Chart
饼图有两种方式，首先可以正常将横纵坐标的字段拖入相应位置，然后用右边栏`智能推荐`中的`饼图`进行绘制。

或者直接将分类字段拖入`标记`中的`颜色`，然后将度量字段拖入`角度`，即可绘制饼图。

设置百分比：添加标签后，对该标签右键选择`快速表计算`->`百分比`即可。

![img_1.png](images%2Fimg_1.png)

### Circle Chart
环形图无法直接绘制，需要绘制两个饼图，然后调整其中一个大小使其变小，并设置其颜色与背景色一致。
然后需要将两者设置为同轴即可合并为一个环形图。具体步骤如下：
- 绘制一个饼图
- 将计数值添加到`行`,并按住`Ctrl`得到另一个相同的计数值在`行`中（即复制）

![img_3.png](images%2Fimg_3.png)
- 对`行`中的两个计数值字段右键：快速表计算->排序，此时会得到上下两个相同饼图

- ![img_4.png](images%2Fimg_4.png)

- 调整其中一个饼图为大图，用于外环，另一个为内环
- 右键对内环的字段（在`行`中）设置`双轴`，此时会得到一个饼图，大图覆盖了小图
- 对小图：删除标记->颜色，此时会得到一个环形图，内环为灰色，只需要将其颜色设置为白色即可

![img_5.png](images%2Fimg_5.png)